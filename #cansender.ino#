
#include <mcp2515.h>
#include <SPI.h>
#include <can.h>

struct can_frame frame;
MCP2515 mcp2515(10);


void setup() {
  Serial.begin(9600);
  mcp2515.reset();
  mcp2515.setBitrate(CAN_125KBPS, MCP_8MHZ);
  mcp2515.setNormalMode();

  Serial.print("hello arduino nano is starting\n");

  frame.can_id = 0x000;
  frame.can_dlc = 5;
  frame.data[0] = 'h';
  frame.data[1] = 'e';
  frame.data[2] = 'l';
  frame.data[3] = 'l';
  frame.data[4] = 'o';
  // put your setup code here, to run once:

}

void loop() {
  mcp2515.sendMessage(&frame);
  delay(100);
  // put your main code here, to run repeatedly:

}
